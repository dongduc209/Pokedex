let pokemonRepository=function(){let e=[];function t(t){"object"==typeof t&&"name"in t?e.push(t):document.write("pokemon is not correct")}function n(){return e}function o(e){pokemonRepository.loadDetails(e).then(function(){i(e)})}function i(e){document.querySelector("#modal-container");let t=document.querySelector("#modal-container .modal-body"),n=document.querySelector("#modal-container .modal-title");t.innerHTML="";let o=document.createElement("div");document.querySelector("#image-container"),n.innerText=e.name;let i=document.createElement("img");i.src=e.imageUrl,i.classList.add("pokemon-image");let l=document.createTextNode("height: "+e.height/10+"m");o.appendChild(i),t.appendChild(o),t.appendChild(l)}return document.getElementById("search-input").addEventListener("input",function(){let e,t;t=(e=document.getElementById("search-input")).value.toLowerCase(),document.querySelectorAll(".list-item").forEach(function(n){let o=n.querySelector(".button-class").innerText.toLowerCase(),i=document.querySelector(".list-group");o.includes(t)?(i.classList.add("search-list"),n.style.display="inline-block"):n.style.display="none",e.value||i.classList.remove("search-list")})}),{add:t,getAll:n,addListItem:function e(t){let n=document.querySelector(".list-group"),i=document.createElement("li");i.classList.add("list-item");let l=document.createElement("button");l.innerText=t.name,l.classList.add("button-class","btn","btn-warning"),l.setAttribute("data-toggle","modal"),l.setAttribute("data-target","#modal-container"),i.appendChild(l),n.appendChild(i),l.addEventListener("click",function(e){o(t)})},showDetails:o,loadList:function e(){return fetch("https://pokeapi.co/api/v2/pokemon/?limit=150").then(function(e){return e.json()}).then(function(e){e.results.forEach(function(e){t({name:e.name,detailsUrl:e.url})})}).catch(function(e){console.error(e)})},loadDetails:function e(t){return fetch(t.detailsUrl).then(function(e){return e.json()}).then(function(e){t.imageUrl=e.sprites.front_default,t.height=e.height,t.types=e.types}).catch(function(e){console.error(e)})},showModal:i}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(e){pokemonRepository.addListItem(e)})});